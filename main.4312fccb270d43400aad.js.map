{"version":3,"file":"main.4312fccb270d43400aad.js","mappings":"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","sources":["webpack://slimacy/./src/app/hero/hero.ts","webpack://slimacy/./src/index.ts"],"sourcesContent":["import {\n  AnimatedSprite,\n  Container,\n  Resource,\n  Spritesheet,\n  Texture,\n  TextureSource,\n  Ticker,\n} from \"pixi.js\";\nimport spritesheetData from \"../../assets/hero/hero.json\";\n\nexport class Character extends Container {\n  private hero: AnimatedSprite;\n  private animations = new Map<string, Texture<Resource>[]>();\n  private currentAnimation: string;\n  private velocityVektor = { x: 0, y: 0 };\n  private speed = 1;\n  private pressedKeys = new Set<string>();\n\n  constructor(screenWidth: number, screenHeight: number) {\n    super();\n\n    const texture = Texture.from(\"assets/hero/hero.png\");\n\n    const sheet = new Spritesheet(texture, spritesheetData);\n\n    sheet.parse((textures) => {\n      console.log(\"ðŸš€ ~ file: index.ts:28 ~ sheet.parse ~ textures:\", textures);\n      Object.keys(spritesheetData.animations).forEach((key) => {\n        const animation =\n          spritesheetData.animations[\n            key as keyof typeof spritesheetData.animations\n          ];\n        const animationSprites = animation.map(\n          (stringy: TextureSource | TextureSource[]) => Texture.from(stringy)\n        );\n        this.animations.set(key, animationSprites);\n      });\n\n      this.hero = new AnimatedSprite(this.animations.get(\"xi72yowslimemoveup\"));\n      this.currentAnimation = \"xi72yowslimemoveup\";\n      this.hero.animationSpeed = 0.125;\n      this.hero.play();\n      this.hero.roundPixels = false;\n      this.hero.x = screenWidth / 2;\n      this.hero.y = screenHeight / 2;\n      this.addChild(this.hero);\n    });\n\n    Ticker.shared.add(this.update, this);\n\n    document.addEventListener(\"keydown\", this.onKeyDown.bind(this));\n    document.addEventListener(\"keyup\", this.onKeyUp.bind(this));\n  }\n\n  private setVelocityVektor(xCrement: number, yCrement: number): void {\n    const x = this.velocityVektor.x + xCrement;\n    const y = this.velocityVektor.y + yCrement;\n    if (!(x < -this.speed || x > this.speed)) {\n      this.velocityVektor.x = x;\n    }\n    if (!(y < -this.speed || y > this.speed)) {\n      this.velocityVektor.y = y;\n    }\n  }\n\n  private setCurrentAnimation(name: string): void {\n    if (this.currentAnimation !== name) {\n      this.currentAnimation = name;\n      this.hero.textures = this.animations.get(name);\n      this.hero.play();\n    }\n  }\n\n  private onKeyDown(e: KeyboardEvent): void {\n    this.pressedKeys.add(e.code);\n    switch (e.code) {\n      case \"KeyW\":\n        this.setCurrentAnimation(\"xi72yowslimemoveup\");\n        this.setVelocityVektor(0, -this.speed);\n        break;\n\n      case \"KeyA\":\n        this.setCurrentAnimation(\"xi72yowslimemoveleft\");\n        this.setVelocityVektor(-this.speed, 0);\n        break;\n\n      case \"KeyS\":\n        this.setCurrentAnimation(\"xi72yowslimemovedown\");\n        this.setVelocityVektor(0, this.speed);\n        break;\n\n      case \"KeyD\":\n        this.setCurrentAnimation(\"xi72yowslimemoveright\");\n        this.setVelocityVektor(this.speed, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    if (this.pressedKeys.has(\"KeyW\") && this.pressedKeys.has(\"KeyS\")) {\n      this.velocityVektor.y = 0;\n    }\n\n    if (this.pressedKeys.has(\"KeyA\") && this.pressedKeys.has(\"KeyD\")) {\n      this.velocityVektor.x = 0;\n    }\n  }\n\n  private onKeyUp(e: KeyboardEvent): void {\n    this.pressedKeys.delete(e.code);\n    switch (e.code) {\n      case \"KeyW\":\n        this.setVelocityVektor(0, this.speed);\n        break;\n\n      case \"KeyA\":\n        this.setVelocityVektor(this.speed, 0);\n        break;\n\n      case \"KeyS\":\n        this.setVelocityVektor(0, -this.speed);\n        break;\n\n      case \"KeyD\":\n        this.setVelocityVektor(-this.speed, 0);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  private velocityNormalization(): { x: number; y: number } {\n    const x = this.velocityVektor.x;\n    const y = this.velocityVektor.y;\n    const length = Math.sqrt(x * x + y * y);\n    if (length > 0) {\n      return { x: x / length, y: y / length };\n    }\n    return { x, y };\n  }\n\n  private update(deltaTime: number): void {\n    const normalizedVelocity = this.velocityNormalization();\n\n    const xDirection = normalizedVelocity.x;\n    const yDirection = normalizedVelocity.y;\n\n    this.hero.x = this.hero.x + xDirection * deltaTime;\n    this.hero.y = this.hero.y + yDirection * deltaTime;\n  }\n}\n","import { Application } from \"pixi.js\";\nimport * as PIXI from \"pixi.js\";\nimport { Character } from \"./app/hero/hero\";\n\nPIXI.settings.SCALE_MODE = PIXI.SCALE_MODES.NEAREST;\n\nconst gameParam = {\n  view: document.getElementById(\"pixi-canvas\") as HTMLCanvasElement,\n  width: 160,\n  height: 90,\n  resolution: window.devicePixelRatio || 1,\n  autoDensity: true,\n  backgroundColor: 0x6495ed,\n  scale: 3,\n};\n\nconst app = new Application(gameParam);\n\nconst character = new Character(gameParam.width, gameParam.height);\n\napp.stage.addChild(character);\n\nfunction resizeGame() {\n  const viewport = {\n    width: window.innerWidth,\n    height: window.innerHeight,\n  };\n\n  const newGameWidth = viewport.width;\n  const newGameHeight = (newGameWidth * gameParam.height) / gameParam.width;\n\n  app.renderer.resize(newGameWidth, newGameHeight);\n  app.stage.scale.set(gameParam.scale, gameParam.scale);\n}\n\nwindow.addEventListener(\"resize\", resizeGame);\n\nresizeGame();\n"],"names":["screenWidth","screenHeight","animations","Map","velocityVektor","x","y","speed","pressedKeys","Set","texture","parse","textures","console","log","Object","keys","forEach","key","animationSprites","map","stringy","set","hero","get","currentAnimation","animationSpeed","play","roundPixels","addChild","update","document","addEventListener","onKeyDown","bind","onKeyUp","setVelocityVektor","xCrement","yCrement","this","setCurrentAnimation","name","e","add","code","has","delete","velocityNormalization","length","Math","sqrt","deltaTime","normalizedVelocity","xDirection","yDirection","gameParam","view","getElementById","width","height","resolution","window","devicePixelRatio","autoDensity","backgroundColor","scale","app","character","Character","resizeGame","newGameWidth","innerWidth","innerHeight","viewport","newGameHeight","renderer","resize","stage"],"sourceRoot":""}